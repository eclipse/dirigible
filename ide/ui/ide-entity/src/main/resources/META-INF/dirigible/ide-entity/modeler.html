<html ng-app="ui.entity-data.modeler">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" sizes="any" href="data:;base64,iVBORw0KGgo=">

        <title>Entity Data Modeler</title>

        <!-- FontAwesome icon set -->
        <link type="text/css" href="/webjars/fontawesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

        <!-- Sets the basepath for the library if not in same directory -->
        <script type="text/javascript">
            mxBasePath = '/services/v4/web/resources/mxgraph/3.9.1/src';
        </script>
        <!-- Loads and initializes the library -->
        <script type="text/javascript" type="text/javascript"
            src="/services/v4/web/resources/mxgraph/3.9.1/src/js/mxClient.js">
        </script>

        <script type="text/javascript" type="text/javascript" src="/services/v4/web/ide-core/ui/message-hub.js">
        </script>

        <!-- jQuery -->
        <script src="/webjars/jquery/3.6.0/jquery.min.js"></script>

        <!-- AngularJS -->
        <script type="text/javascript" src="/webjars/angularjs/1.8.2/angular.min.js"></script>
        <script type="text/javascript" src="/webjars/angularjs/1.8.2/angular-resource.min.js"></script>
        <script type="text/javascript" src="/webjars/angularjs/1.8.2/angular-animate.min.js"></script>
        <script type="text/javascript" src="/webjars/angularjs/1.8.2/angular-sanitize.min.js"></script>

        <link rel="stylesheet" href="/services/v4/js/theme/resources.js/bootstrap.min.css">
        <script type="text/javascript" src="/webjars/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="/services/v4/web/ide-core/ui/ui-bootstrap-tpls-0.14.3.min.js"></script>

        <!-- Custom IDE Styles -->
        <link type="text/css" rel="stylesheet" href="/services/v4/js/theme/resources.js/ide.css" />

        <script type="text/javascript" src="js/underscore.js"></script>

        <script type="text/javascript" src="js/model.js"></script>
        <script type="text/javascript" src="js/dialogs.js"></script>
        <script type="text/javascript" src="js/widgets.js"></script>
        <script type="text/javascript" src="js/serializer.js"></script>
        <script type="text/javascript" src="js/clipboard.js"></script>
        <script type="text/javascript" src="js/angular-dialogs.js"></script>
        <script type="text/javascript" src="js/controller.js"></script>

    </head>

    <body onload="main(document.getElementById('graphContainer'),
			document.getElementById('outlineContainer'),
		 	document.getElementById('toolbarContainer'),
			document.getElementById('sidebarContainer'),
			document.getElementById('statusContainer'));" id="ModelerCtrl" ng-controller="ModelerCtrl as ctrl">

        <!-- Creates a container for the splash screen -->
        <div id="splash"
            style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background: white; z-index: 1;">
            <center id="splash" style="padding-top: 230px;">
                <img src="images/loading.gif">
            </center>
        </div>

        <!-- Creates a container for the sidebar -->
        <div id="toolbarContainer" class="toolbarContainer">
        </div>

        <!-- Creates a container for the toolboox -->
        <div id="sidebarContainer" class="sidebarContainer">
        </div>

        <!-- Creates a container for the graph -->
        <div id="graphContainer" class="graphContainer">
        </div>

        <!-- Creates a container for the outline -->
        <div id="outlineContainer" class="outlineContainer">
        </div>

        <!-- Creates a container for the statusbar -->
        <div id="statusContainer" class="statusContainer">
        </div>


        <!-- Triggers -->
        <button type="button" id="entityPropertiesOpen" ng-show=false data-toggle="modal"
            data-target="#dialogEntityProperties"></button>
        <button type="button" id="propertyPropertiesOpen" ng-show=false data-toggle="modal"
            data-target="#dialogPropertyProperties"></button>
        <button type="button" id="connectorPropertiesOpen" ng-show=false data-toggle="modal"
            data-target="#dialogConnectorProperties"></button>
        <button type="button" id="navigationPropertiesOpen" ng-show=false data-toggle="modal"
            data-target="#dialogNavigationProperties"></button>
        <button type="button" id="alertOpen" ng-show=false data-toggle="modal" data-target="#dialogAlert"></button>
        <button type="button" id="referEntityOpen" ng-show=false data-toggle="modal"
            data-target="#dialogReferEntity"></button>

        <!-- Entity Properties -->
        <div class="dirigible-modal modal fade" id="dialogEntityProperties" tabindex="-1" role="dialog"
            aria-labelledby="dialogEntityPropertiesLabel" aria-hidden="true">
            <div class="modal-header">
                <h3>Entity Details</h3>
            </div>
            <div class="modal-body">

                <ul class="nav nav-pills">
                    <li class="active"><a data-toggle="pill" href="#generalEntity">General</a></li>
                    <li><a data-toggle="pill" href="#dataEntity">Data</a></li>
                    <li><a data-toggle="pill" href="#uiEntity">User Interface</a></li>
                    <li><a data-toggle="pill" href="#feedEntity">Feed</a></li>
                    <li><a data-toggle="pill" href="#securityEntity">Security</a></li>
                </ul>

                <div class="tab-content">
                    <div id="generalEntity" class="tab-pane fade in active">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Name: </label>
                                <div class="col-xs-5">
                                    <input class="form-control" type="text" placeholder="entity name"
                                        ng-model="ctrl.$scope.$parent.cell.value.name" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Type: </label>
                                <div class="col-xs-5">
                                    <select class="form-control" name="entityType" id="entityType"
                                        ng-model="ctrl.$scope.$parent.cell.value.entityType">
                                        <option ng-repeat="option in ctrl.entityTypes" value="{{option.key}}">
                                            {{option.label}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="dataEntity" class="tab-pane fade">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Database Name: </label>
                                <div class="col-xs-5">
                                    <input class="form-control" type="text" placeholder="data name"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataName" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Database Count: </label>
                                <div class="col-xs-5">
                                    <textarea class="form-control" type="text"
                                        placeholder="data query for entities count"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataCount" cols="50"
                                        rows="10"></textarea>
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Database Query: </label>
                                <div class="col-xs-5">
                                    <textarea class="form-control" type="text"
                                        placeholder="data query in case of report entity"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataQuery" cols="50"
                                        rows="10"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="uiEntity" class="tab-pane fade">
                        <br><br>
                        <div class="form-group row">

                            <div class="row">
                                <label class="col-xs-3 col-form-label">Title: </label>
                                <div class="col-xs-5">
                                    <input class="form-control" type="text" placeholder="title"
                                        ng-model="ctrl.$scope.$parent.cell.value.title" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Tooltip: </label>
                                <div class="col-xs-5">
                                    <input class="form-control" type="text" placeholder="tooltip"
                                        ng-model="ctrl.$scope.$parent.cell.value.tooltip" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Icon: </label>
                                <div class="col-xs-5">
                                    <select class="form-control" name="icon" id="icon"
                                        ng-model="ctrl.$scope.$parent.cell.value.icon"
                                        style="font-family: 'FontAwesome', 'Helvetica'">
                                        <option ng-repeat="option in ctrl.icons" id="{{option.name}}"
                                            value="{{option.url}}" ng-bind-html="option.name"></option>
                                    </select>
                                </div>
                            </div>


                            <div class="row">
                                <label class="col-xs-3 col-form-label">Menu Key: </label>
                                <div class="col-xs-5">
                                    <input class="form-control" type="text" placeholder="menu key"
                                        ng-model="ctrl.$scope.$parent.cell.value.menuKey" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Menu Label: </label>
                                <div class="col-xs-5">
                                    <input class="form-control" type="text" placeholder="menu label"
                                        ng-model="ctrl.$scope.$parent.cell.value.menuLabel" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Menu Index: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="number" placeholder="menu index"
                                        ng-model="ctrl.$scope.$parent.cell.value.menuIndex" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label" for="entityLayout">Layout Type: </label>
                                <div class="col-xs-4">
                                    <select class="form-control" name="entityLayout" id="entityLayout"
                                        ng-model="ctrl.$scope.$parent.cell.value.layoutType">
                                        <option ng-repeat="option in ctrl.layoutTypes" value="{{option.key}}">
                                            {{option.label}}
                                        </option>
                                    </select>
                                </div>
                            </div>

                            <!--
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Perspective Name: </label>
                                <div class="col-xs-5">
                                    <input class="form-control" type="text" placeholder="perspective name"
                                        ng-model="ctrl.$scope.$parent.cell.value.perspectiveName" required="required"
                                        pattern="[a-zA-Z0-9_-]+" />
                                    <span ng-show="ctrl.$scope.$parent.cell.value.perspectiveName === undefined">The
                                        perspective name format is not valid!</span>
                                </div>
                            </div>
                            -->
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Perspective: </label>
                                <div class="col-xs-2">
                                    <select class="form-control" name="perspective" id="perspective"
                                        ng-model="ctrl.$scope.$parent.cell.value.perspectiveName"
                                        style="font-family: 'FontAwesome', 'Helvetica'">
                                        <option ng-repeat="option in ctrl.availablePerspectives()" id="{{option.id}}"
                                            value="{{option.id}}" ng-bind-html="option.id"></option>
                                    </select>
                                </div>
                            </div>
                            <!--
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Perspective Order: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="number" placeholder="perspective order"
                                        ng-model="ctrl.$scope.$parent.cell.value.perspectiveOrder" required="required">
                                </div>
                            </div>
                            -->

                        </div>
                    </div>
                    <div id="feedEntity" class="tab-pane fade">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Feed URL: </label>
                                <div class="col-xs-5">
                                    <input class="form-control" type="text" placeholder="feed url"
                                        ng-model="ctrl.$scope.$parent.cell.value.feedUrl" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Username: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="username"
                                        ng-model="ctrl.$scope.$parent.cell.value.feedUsername" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Password: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="password" placeholder="password"
                                        ng-model="ctrl.$scope.$parent.cell.value.feedPassword" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Schedule: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="schedule"
                                        ng-model="ctrl.$scope.$parent.cell.value.feedSchedule" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Path: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="path"
                                        ng-model="ctrl.$scope.$parent.cell.value.feedPath" required="required">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="securityEntity" class="tab-pane fade">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Read Role: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="read role name"
                                        ng-model="ctrl.$scope.$parent.cell.value.roleRead" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Write Role: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="write role name"
                                        ng-model="ctrl.$scope.$parent.cell.value.roleWrite" required="required">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="ctrl.okEntityProperties()" data-toggle="modal"
                    data-target="#dialogEntityProperties">OK
                </button>
                <button class="btn btn-default" data-dismiss="modal">Cancel</button>
            </div>
        </div>


        <!-- Property Properties -->
        <div class="dirigible-modal modal fade" id="dialogPropertyProperties" tabindex="-1" role="dialog"
            aria-labelledby="dialogPropertyPropertiesLabel" aria-hidden="true">
            <div class="modal-header">
                <h3>Property Details</h3>
            </div>
            <div class="modal-body">

                <ul class="nav nav-pills">
                    <li class="active"><a data-toggle="pill" href="#generalProperty">General</a></li>
                    <li><a data-toggle="pill" href="#dataProperty">Data</a></li>
                    <li><a data-toggle="pill" href="#uiProperty">User Interface</a></li>
                    <li><a data-toggle="pill" href="#feedProperty">Feed</a></li>
                    <li><a data-toggle="pill" href="#securityProperty">Security</a></li>
                </ul>

                <div class="tab-content">

                    <div id="generalProperty" class="tab-pane fade in active">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Name: </label>
                                <div class="col-xs-5">
                                    <input class="form-control" type="text" placeholder="property name"
                                        ng-model="ctrl.$scope.$parent.cell.value.name" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Calculated: </label>
                                <div class="col-xs-1">
                                    <input class="form-control" type="checkbox"
                                        ng-model="ctrl.$scope.$parent.cell.value.isCalculatedProperty"
                                        required="required" data-ng-true-value="'true'" data-ng-false-value="'false'">
                                </div>
                            </div>
                            <div class="row" ng-show="ctrl.$scope.$parent.cell.value.isCalculatedProperty">
                                <label class="col-xs-3 col-form-label">&nbsp;</label>
                                <div class="col-xs-9">
                                    <textarea class="form-control" type="text"
                                        placeholder="calculated property expression"
                                        ng-model="ctrl.$scope.$parent.cell.value.calculatedPropertyExpression" cols="50"
                                        rows="10"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="dataProperty" class="tab-pane fade">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Database Name: </label>
                                <div class="col-xs-6">
                                    <input class="form-control" type="text" placeholder="data name"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataName" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label" for="dataType">Data Type: </label>
                                <div class="col-xs-4">
                                    <select class="form-control" name="dataType" id="dataType"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataType">
                                        <option ng-repeat="option in ctrl.dataTypes" value="{{option.key}}">
                                            {{option.label}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Length: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="20"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataLength" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Is Primary Key: </label>
                                <div class="col-xs-9">
                                    <input class="form-control" type="checkbox"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataPrimaryKey" required="required"
                                        data-ng-true-value="'true'" data-ng-false-value="'false'">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Is Auto Increment: </label>
                                <div class="col-xs-9">
                                    <input class="form-control" type="checkbox"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataAutoIncrement" required="required"
                                        data-ng-true-value="'true'" data-ng-false-value="'false'">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Is Not Null: </label>
                                <div class="col-xs-9">
                                    <input class="form-control" type="checkbox"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataNotNull" required="required"
                                        data-ng-true-value="'true'" data-ng-false-value="'false'">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Is Unique: </label>
                                <div class="col-xs-9">
                                    <input class="form-control" type="checkbox"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataUnique" required="required"
                                        data-ng-true-value="'true'" data-ng-false-value="'false'">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Precision: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="0"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataPrecision" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Sclae: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="0"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataScale" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Default Value: </label>
                                <div class="col-xs-6">
                                    <input class="form-control" type="text" placeholder="default value"
                                        ng-model="ctrl.$scope.$parent.cell.value.dataDefaultValue" required="required">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="uiProperty" class="tab-pane fade">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-3 col-form-label" for="widgetType">Widget Type: </label>
                                <div class="col-xs-4">
                                    <select class="form-control col-xs-4" name="d" id="widgetType"
                                        ng-model="ctrl.$scope.$parent.cell.value.widgetType">
                                        <option ng-repeat="option in ctrl.widgetTypes" value="{{option.key}}">
                                            {{option.label}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Length: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="20"
                                        ng-model="ctrl.$scope.$parent.cell.value.widgetLength" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Label: </label>
                                <div class="col-xs-6">
                                    <input class="form-control" type="text" placeholder="label"
                                        ng-model="ctrl.$scope.$parent.cell.value.widgetLabel" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Short Label: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="short label"
                                        ng-model="ctrl.$scope.$parent.cell.value.widgetShortLabel" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Pattern: </label>
                                <div class="col-xs-4">
                                    <input class="form-control" type="text" placeholder="pattern"
                                        ng-model="ctrl.$scope.$parent.cell.value.widgetPattern" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Format: </label>
                                <div class="col-xs-4">
                                    <input class="form-control" type="text" placeholder="format"
                                        ng-model="ctrl.$scope.$parent.cell.value.widgetPattern" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Service (feed): </label>
                                <div class="col-xs-9">
                                    <input class="form-control" type="text" placeholder="service"
                                        ng-model="ctrl.$scope.$parent.cell.value.widgetService" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Section: </label>
                                <div class="col-xs-6">
                                    <input class="form-control" type="text" placeholder="service"
                                        ng-model="ctrl.$scope.$parent.cell.value.widgetSection" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Is Major: </label>
                                <div class="col-xs-5">
                                    <!-- <input class="form-control" type="checkbox" ng-model="ctrl.$scope.$parent.cell.value.widgetIsMajor" required="required" data-ng-true-value="'true'" data-ng-false-value="'false'"> -->
                                    <select class="form-control" name="propertyIsMajor" id="entityLayout"
                                        ng-model="ctrl.$scope.$parent.cell.value.widgetIsMajor">
                                        <option ng-repeat="option in ctrl.isMajorTypes" value="{{option.key}}">
                                            {{option.label}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Dropdown Key: </label>
                                <div class="col-xs-6">
                                    <input class="form-control" type="text" placeholder="key property"
                                        ng-model="ctrl.$scope.$parent.cell.value.widgetDropDownKey" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Dropdown Value: </label>
                                <div class="col-xs-6">
                                    <input class="form-control" type="text" placeholder="value property"
                                        ng-model="ctrl.$scope.$parent.cell.value.widgetDropDownValue"
                                        required="required">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="feedProperty" class="tab-pane fade">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Property Name: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="property name"
                                        ng-model="ctrl.$scope.$parent.cell.value.feedPropertyName" required="required">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="securityProperty" class="tab-pane fade">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Read Role: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="read role name"
                                        ng-model="ctrl.$scope.$parent.cell.value.roleRead" required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Write Role: </label>
                                <div class="col-xs-3">
                                    <input class="form-control" type="text" placeholder="write role name"
                                        ng-model="ctrl.$scope.$parent.cell.value.roleWrite" required="required">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="ctrl.okPropertyProperties()" data-toggle="modal"
                    data-target="#dialogPropertyProperties">OK
                </button>
                <button class="btn btn-default" data-dismiss="modal">Cancel</button>
            </div>
        </div>


        <!-- Connector Properties -->
        <div class="dirigible-modal modal fade" id="dialogConnectorProperties" tabindex="-1" role="dialog"
            aria-labelledby="dialogConnectorPropertiesLabel" aria-hidden="true">
            <div class="modal-header">
                <h3>Connector Details</h3>
            </div>
            <div class="modal-body">

                <ul class="nav nav-pills">
                    <li class="active"><a data-toggle="pill" href="#generalConnector">General</a></li>
                </ul>

                <div class="tab-content">
                    <div id="generalConnector" class="tab-pane fade in active">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-3 col-form-label">Name: </label>
                                <div class="col-xs-5">
                                    <input class="form-control" type="text" placeholder="relationship name"
                                        ng-model="ctrl.$scope.$parent.cell.source.value.relationshipName"
                                        required="required">
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label" for="relationshipType">Relationship Type:
                                </label>
                                <div class="col-xs-4">
                                    <select class="form-control col-xs-4" name="d" id="relationshipType"
                                        ng-model="ctrl.$scope.$parent.cell.source.value.relationshipType">
                                        <option ng-repeat="option in ctrl.relationshipTypes" value="{{option.key}}">
                                            {{option.label}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <label class="col-xs-3 col-form-label" for="relationshipCardinality">Relationship
                                    Cardinality: </label>
                                <div class="col-xs-4">
                                    <select class="form-control col-xs-4" name="d" id="relationshipCardinality"
                                        ng-model="ctrl.$scope.$parent.cell.source.value.relationshipCardinality">
                                        <option ng-repeat="option in ctrl.relationshipCardinalities"
                                            value="{{option.key}}">
                                            {{option.label}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>


            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="ctrl.okConnectorProperties()" data-toggle="modal"
                    data-target="#dialogConnectorProperties">OK
                </button>
                <button class="btn btn-default" data-dismiss="modal">Cancel</button>
            </div>
        </div>


        <!-- Navigation Properties -->
        <div class="dirigible-modal modal fade" id="dialogNavigationProperties" tabindex="-1" role="dialog"
            aria-labelledby="dialogNavigationPropertiesLabel" aria-hidden="true">
            <div class="modal-header">
                <h3>Navigation</h3>
            </div>
            <div class="modal-body">

                <ul class="nav nav-pills">
                    <li class="active"><a data-toggle="pill" href="#perspectivesNavigation">Perspectives</a></li>
                    <li><a data-toggle="pill" href="#sidebarNavigation">Sidebar</a></li>
                </ul>

                <div class="tab-content">

                    <div id="perspectivesNavigation" class="tab-pane fade in active">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-1 col-form-label">Perspectives: </label>
                                <div class="col-xs-11">
                                    <div class="container">
                                        <button type="button" ng-click="openPerspectiveNewDialog()"
                                            class="btn btn-lg btn-outline-primary pull-right"><i class="fa fa-plus"
                                                aria-hidden="true"></i></button>
                                        <table class="table product-table">
                                            <thead>
                                                <tr>
                                                    <th>Name</th>
                                                    <th>Label</th>
                                                    <th>Icon</th>
                                                    <th>Order</th>
                                                    <th class="col-xs-1"></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="next in ctrl.$scope.$parent.graph.model.perspectives">
                                                    <td class="view">{{next.id}}</td>
                                                    <td class="view">{{next.label}}</td>
                                                    <td class="view">{{next.icon}}</td>
                                                    <td class="view">{{next.order}}</td>
                                                    <td class="view">
                                                        <i class="close fa fa-2x fa-remove"
                                                            ng-click="openPerspectiveDeleteDialog(next)"></i>
                                                        <i class="close fa fa-2x fa-bars"
                                                            ng-click="openPerspectiveEditDialog(next)"
                                                            style="margin-right: 0.5em"></i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="sidebarNavigation" class="tab-pane fade">
                        <br><br>
                        <div class="form-group row">
                            <div class="row">
                                <label class="col-xs-1 col-form-label">Sidebar: </label>
                                <div class="col-xs-11">
                                    <div class="container">
                                        <button type="button" ng-click="openSidebarNewDialog()"
                                            class="btn btn-lg btn-outline-primary pull-right"><i class="fa fa-plus"
                                                aria-hidden="true"></i></button>
                                        <table class="table product-table">
                                            <thead>
                                                <tr>
                                                    <th>Path</th>
                                                    <th>Label</th>
                                                    <th>Icon</th>
                                                    <th>URL</th>
                                                    <th class="col-xs-1"></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="next in ctrl.$scope.$parent.graph.model.sidebar">
                                                    <td class="view">{{next.path}}</td>
                                                    <td class="view">{{next.label}}</td>
                                                    <td class="view">{{next.icon}}</td>
                                                    <td class="view">{{next.url}}</td>
                                                    <td class="view">
                                                        <i class="close fa fa-2x fa-remove"
                                                            ng-click="openSidebarDeleteDialog(next)"></i>
                                                        <i class="close fa fa-2x fa-bars"
                                                            ng-click="openSidebarEditDialog(next)"
                                                            style="margin-right: 0.5em"></i>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="ctrl.okNavigationProperties()" data-toggle="modal"
                    data-target="#dialogNavigationProperties">Close</button>
            </div>
        </div>

        <!-- Perspective Dialogs -->
        <div class="modal fade" id="perspectiveEntityModal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 ng-show="actionType === 'perspectiveNew'" class="modal-title"
                            id="perspectiveModalCreateLabel">Create Perspective</h3>
                        <h3 ng-show="actionType === 'perspectiveUpdate'" class="modal-title"
                            id="perspectiveModalUpdateLabel">Update Perspective</h3>
                        <h3 ng-show="actionType === 'perspectiveDelete'" class="modal-title"
                            id="perspectiveModalDeleteLabel">Delete Perspective</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-danger" ng-show="error">
                            {{error}}
                        </div>
                        <form ng-hide="actionType === 'delete'">
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" class="form-control" placeholder="Enter name"
                                    ng-model="perspectiveEntity.id">
                            </div>
                            <div class="form-group">
                                <label>Label</label>
                                <input type="text" class="form-control" placeholder="Enter label"
                                    ng-model="perspectiveEntity.label">
                            </div>
                            <div class="form-group">
                                <label>Icon</label>
                                <select class="form-control" name="entityIcon" id="entityIcon"
                                    ng-model="perspectiveEntity.icon" style="font-family: 'FontAwesome', 'Helvetica'">
                                    <option ng-repeat="option in ctrl.icons" id="{{option.name}}" value="{{option.url}}"
                                        ng-bind-html="option.name"></option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Order</label>
                                <input type="number" class="form-control" placeholder="Enter order"
                                    ng-model="perspectiveEntity.order">
                            </div>

                        </form>
                        <div ng-show="actionType === 'delete'">
                            You are going to delete <b>Perspective</b> with <b>name = {{perspectiveEntity.id}}</b>?
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" ng-show="actionType === 'perspectiveNew'"
                            ng-click="perspectiveCreate()">Create</button>
                        <button type="button" class="btn btn-primary" ng-show="actionType === 'perspectiveUpdate'"
                            ng-click="perspectiveUpdate()">Update</button>
                        <button type="button" class="btn btn-primary" ng-show="actionType === 'perspectiveDelete'"
                            ng-click="perspectiveDelete()">Delete</button>
                        <button type="button" class="btn" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar Dialog -->
        <div class="modal fade" id="sidebarEntityModal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 ng-show="actionType === 'sidebarNew'" class="modal-title" id="sidebarModalCreateLabel">
                            Create Navigation</h3>
                        <h3 ng-show="actionType === 'sidebarUpdate'" class="modal-title" id="sidebarModalUpdateLabel">
                            Update Navigation</h3>
                        <h3 ng-show="actionType === 'sidebarDelete'" class="modal-title" id="sidebarModalDeleteLabel">
                            Delete Navigation</h3>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-danger" ng-show="error">
                            {{error}}
                        </div>
                        <form ng-hide="actionType === 'delete'">
                            <div class="form-group">
                                <label>Path</label>
                                <input type="text" class="form-control" placeholder="Enter name"
                                    ng-model="sidebarEntity.path">
                            </div>
                            <div class="form-group">
                                <label>Label</label>
                                <input type="text" class="form-control" placeholder="Enter name"
                                    ng-model="sidebarEntity.label">
                            </div>
                            <div class="form-group">
                                <label>Icon</label>
                                <!-- <div class="col-xs-5"> -->
                                <select class="form-control" name="entityIcon" id="entityIcon"
                                    ng-model="sidebarEntity.icon" style="font-family: 'FontAwesome', 'Helvetica'">
                                    <option ng-repeat="option in ctrl.icons" id="{{option.name}}" value="{{option.url}}"
                                        ng-bind-html="option.name"></option>
                                </select>
                                <!-- </div> -->
                            </div>
                            <div class="form-group">
                                <label>URL</label>
                                <input type="text" class="form-control" placeholder="Enter name"
                                    ng-model="sidebarEntity.url">
                            </div>

                        </form>
                        <div ng-show="actionType === 'delete'">
                            You are going to delete <b>Navigation</b> with <b>name = {{sidebarEntity.name}}</b>?
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" ng-show="actionType === 'sidebarNew'"
                            ng-click="sidebarCreate()">Create</button>
                        <button type="button" class="btn btn-primary" ng-show="actionType === 'sidebarUpdate'"
                            ng-click="sidebarUpdate()">Update</button>
                        <button type="button" class="btn btn-primary" ng-show="actionType === 'sidebarDelete'"
                            ng-click="sidebarDelete()">Delete</button>
                        <button type="button" class="btn" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Alert Dialog -->
        <div class="dirigible-modal modal fade" id="dialogAlert" tabindex="-1" role="dialog"
            aria-labelledby="dialogAlertLabel" aria-hidden="true">
            <div class="modal-header">
                <h3>{{$parent.alertTitle}}</h3>
            </div>
            <div class="modal-body">

                <br><br>
                <div class="form-group row">
                    <div class="row">
                        <label class="col-xs-3 col-form-label"><i
                                class="fa fa-{{$parent.alertStatus}} fa-4x"></i></label>
                        <div class="col-xs-5">
                            <h3>{{$parent.alertMessage}}</h3>
                        </div>
                    </div>
                </div>


            </div>
            <div class="modal-footer">
                <button class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>


        <!-- Refer Entity Dialog -->
        <div class="dirigible-modal modal fade" id="dialogReferEntity" tabindex="-1" role="dialog"
            aria-labelledby="dialogReferEntityLabel" aria-hidden="true">
            <div class="modal-header">
                <h3>Entity from External Model</h3>
            </div>
            <div class="modal-body">

                <br><br>
                <div class="form-group row">
                    <div class="row">
                        <label class="col-xs-3 col-form-label">Model Location: </label>
                        <div class="col-xs-9">
                            <!-- <input class="form-control" type="text" placeholder="model location" ng-model="$parent.referencedModel" required="required"> -->

                            <div class="col-xs-4">
                                <select class="form-control col-xs-4" name="d" id="referencedModel"
                                    ng-model="$parent.referencedModel" ng-change="ctrl.updateEntities()">
                                    <option ng-repeat="option in ctrl.availableModels" value="{{option.path}}">
                                        {{option.name}} - [{{option.path}}]
                                    </option>
                                </select>
                            </div>
                        </div>


                        <label class="col-xs-3 col-form-label">Entity Name: </label>
                        <div class="col-xs-9">
                            <!-- <input class="form-control" type="text" placeholder="entity name" ng-model="$parent.referencedEntity" required="required"> -->

                            <div class="col-xs-4">
                                <select class="form-control col-xs-4" name="d" id="referencedEntity"
                                    ng-model="$parent.referencedEntity">
                                    <option ng-repeat="option in ctrl.availableEntities" value="{{option.name}}">
                                        {{option.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="$parent.okReferEntity()" data-toggle="modal"
                    data-target="#dialogReferEntity">Create
                </button>
                <button class="btn btn-default" ng-click="$parent.cancelReferEntity()"
                    data-dismiss="modal">Cancel</button>
            </div>
        </div>

    </body>

</html>
